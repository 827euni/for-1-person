<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>review-board</title>
    <link rel="stylesheet" href="../static/css/review-board.css">
    <!-- header 에서 사용된 파일 -->
    <link rel="stylesheet" th:href="@{/css/mainScreen.css}">
    <link rel="stylesheet" th:href="@{/css/modal.css}">
    <script th:src="@{/js/modal.js}"></script>
</head>

<body>

<!-- Header Fragment 포함 -->
<div th:replace="header :: headerFragment"></div>

<!-- 모달창 Fragment 포함 -->
<div th:replace="header :: modalFragment"></div>

<div class="container">
    <div class="title">
        <img src="../static/Img/img_14.png" alt="">
        <h2 class="title1" th:text="#{}">리뷰게시판</h2>

    </div>
    <!--구분선 & 검색란 시작-->
    <section class="dividing-line">
        <div class="search1">
            <label>
                <select class="choice" name="searchType">
                    <option value="title">제목</option>
                    <option value="author">작성자</option>
                </select>
            </label>
            <!-- 검색부분-->
            <form class="searching" action="">
                <label class="searchKey"><input name="searchKey" alt=""></label>
                <button type="submit"><img th:src="@{/Img/img_9.png}" alt=""></button>
            </form>
        </div>
    </section>
    <!--게시판 리스트 부분 시작-->
    <table class="table">
        <thead>
        <tr>
            <th class="th-title1">번호</th>
            <th class="th-title2">제목</th>
            <th class="th-title3">별점</th>
            <th class="th-title4">작성자</th>
            <th class="th-title5">날짜</th>
            <th class="th-title6">조회수</th>
            <th class="th-title7">추천</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="review : ${page.content}">
            <td th:text="${review.reviewId}">번호</td>
            <td th:href="@{'/review-board/' + ${review.reviewId}}" th:text="${review.title}"><a>제목</a></td>
            <td th:text="${review.score}"></td>
            <td th:text="${review.user.nickname}">작성자</td>
            <td class="date" th:text="${#temporals.format(java.sql.Timestamp.valueOf(review.createdAt.toLocalDateTime()), 'yyyy-MM-dd HH:mm:ss')}"></td>
            <td th:text="${review.views}"></td>
            <td>추천</td>
        </tr>
        </tbody>
    </table>
    <!--게시판 리스트 부분 종료-->
    <!--페이징 부분 시작-->
    <div class="bottom" th:if="${page.totalPages > 0}">
        <nav>
            <ul>
                <li>
                    <a th:href="@{${'/'}}">
                        <img th:src="@{/Img/img_10.png}" alt="">
                    </a>
                </li>
                <li th:if="${page.number > 0}">
                    <a th:href="@{${'/review-board?page=' + (page.number - 1)}}">
                        <img th:src="@{/Img/img_11.png}" alt="">
                    </a>
                </li>
                <li th:each="pageNumber : ${#numbers.sequence(page.number / 5 * 5 + 1, ((page.number / 5) + 1) * 5)}">
                    <a th:href="@{${'/review-board?page=' + pageNumber}}" th:text="${pageNumber}" th:if="${pageNumber <= page.totalPages}"></a>
                </li>
                <li th:if="${page.hasNext}">
                    <a th:href="@{${'/review-board?page=' + (page.number + 1)}}">
                        <img th:src="@{/Img/img_12.png}" alt="">
                    </a>
                </li>
                <li th:if="${page.totalPages > 0}">
                    <a th:href="@{${'/review-board?page=' + (page.totalPages - 1)}}">
                        <img th:src="@{/Img/img_13.png}" alt="">
                    </a>
                </li>
            </ul>
        </nav>
        <!--페이징 부분 완료-->
    </div>
    <!--글 작성 버튼 시작-->
    <div class="btn-right">
        <a class="btn" th:href="@{/write}">글작성</a>
    </div>
    <!--글 작성 버튼 완료-->
</div>
</body>
</html>